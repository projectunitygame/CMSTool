ERROR2019-05-30 11:14:06 – {"DATE_LOGS":"30/05/2019 11:13:10","INFO_LOGS":"ERROR API_ADD_NEW_ORDER_DETAIL: Newtonsoft.Json.JsonReaderException: Could not convert string to integer: 1630537.5. Path 'orderDetail.Phi_Gia_Cong', line 1, position 1378.\r\n   at Newtonsoft.Json.JsonReader.ReadInt32String(String s)\r\n   at Newtonsoft.Json.JsonTextReader.FinishReadQuotedNumber(ReadType readType)\r\n   at Newtonsoft.Json.JsonTextReader.ReadNumberValue(ReadType readType)\r\n   at Newtonsoft.Json.JsonTextReader.ReadAsInt32()\r\n   at Newtonsoft.Json.JsonReader.ReadForType(JsonContract contract, Boolean hasConverter)\r\n   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)\r\n   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateObject(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)\r\n   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)\r\n   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)\r\n   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)\r\n   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateObject(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)\r\n   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)\r\n   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.Deserialize(JsonReader reader, Type objectType, Boolean checkAdditionalContent)\r\n   at Newtonsoft.Json.JsonSerializer.DeserializeInternal(JsonReader reader, Type objectType)\r\n   at Newtonsoft.Json.JsonConvert.DeserializeObject(String value, Type type, JsonSerializerSettings settings)\r\n   at Newtonsoft.Json.JsonConvert.DeserializeObject[T](String value, JsonSerializerSettings settings)\r\n   at Newtonsoft.Json.JsonConvert.DeserializeObject[T](String value)\r\n   at CMS_Tools.Apis.API_Order.API_ADD_NEW_ORDER_DETAIL(HttpContext context) in C:\\Users\\Dien Nguyen\\Dropbox\\Project\\DATPHU_PRINTING\\CMS_Tools\\CMS_Tools\\CMS_Tools\\Apis\\API_Order.ashx.cs:line 750"}
ERROR2019-05-30 11:15:06 – {"DATE_LOGS":"30/05/2019 11:14:34","INFO_LOGS":"ERROR API_ADD_NEW_ORDER_DETAIL: Newtonsoft.Json.JsonReaderException: Could not convert string to integer: 1630537.5. Path 'orderDetail.Phi_Gia_Cong', line 1, position 1381.\r\n   at Newtonsoft.Json.JsonReader.ReadInt32String(String s)\r\n   at Newtonsoft.Json.JsonTextReader.FinishReadQuotedNumber(ReadType readType)\r\n   at Newtonsoft.Json.JsonTextReader.ReadNumberValue(ReadType readType)\r\n   at Newtonsoft.Json.JsonTextReader.ReadAsInt32()\r\n   at Newtonsoft.Json.JsonReader.ReadForType(JsonContract contract, Boolean hasConverter)\r\n   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)\r\n   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateObject(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)\r\n   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)\r\n   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.SetPropertyValue(JsonProperty property, JsonConverter propertyConverter, JsonContainerContract containerContract, JsonProperty containerProperty, JsonReader reader, Object target)\r\n   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)\r\n   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateObject(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)\r\n   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)\r\n   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.Deserialize(JsonReader reader, Type objectType, Boolean checkAdditionalContent)\r\n   at Newtonsoft.Json.JsonSerializer.DeserializeInternal(JsonReader reader, Type objectType)\r\n   at Newtonsoft.Json.JsonConvert.DeserializeObject(String value, Type type, JsonSerializerSettings settings)\r\n   at Newtonsoft.Json.JsonConvert.DeserializeObject[T](String value, JsonSerializerSettings settings)\r\n   at Newtonsoft.Json.JsonConvert.DeserializeObject[T](String value)\r\n   at CMS_Tools.Apis.API_Order.API_ADD_NEW_ORDER_DETAIL(HttpContext context) in C:\\Users\\Dien Nguyen\\Dropbox\\Project\\DATPHU_PRINTING\\CMS_Tools\\CMS_Tools\\CMS_Tools\\Apis\\API_Order.ashx.cs:line 750"}
ERROR2019-05-30 06:34:21 – {"DATE_LOGS":"30/05/2019 06:34:08","INFO_LOGS":"Error GetDataTable: sqlType 1\r\nsql_query: SELECT [Id]\n\t  ,[TenNhaCungCap] as 'Nha Cung Cap'\n      ,[MaDatGiay] as 'Ma Dat Giay'\n      ,[ChatLieu] as 'Chat Lieu'\n      ,[LoaiSong] as 'Loai song'\n      ,[RongThung] as 'Rong Thung'\n      ,[DaiThung] as 'Dai Thung'\n      ,[DienTich] as 'Dien Tich'\n      ,[SoTam] as 'So Tam'\n      ,[CanNap] as 'Can Nap'\n      ,[CatDai] as 'Cat Dai'\n      ,[CatRong] as 'Cat Rong'\n      ,[SoTamNho] as 'So Tam Nho'\n      ,FORMAT([DonGia], '#,#') as 'Don Gia/M2'\n      ,FORMAT(DonGia*DienTich, '#,#') as 'Don Gia/Tam'\n      ,FORMAT(SoTam*DonGia*DienTich, '#,#') as 'Tong Gia'\n      ,SoTam*DaiThung/1000 as 'So Met'\n      ,FORMAT(ROUND(SoTam*DienTich, 0), '#,#') as 'Tong Dien Tich'\n      ,[PhiHaoHut] as 'Phi Hao Hut'\n      ,CONVERT(VARCHAR(8), NgayDatGiay, 5) + ' ' + CONVERT(VARCHAR(8), NgayDatGiay, 8) as 'Ngay Dat Giay'\n      ,CONVERT(VARCHAR(8), NgayYeuCauNhanGiay, 5) + ' ' CONVERT(VARCHAR(8), [NgayYeuCauNhanGiay], 8) as 'Ngay Can'\n      ,CONVERT(VARCHAR(8), NgayNhanGiay, 5) + ' ' CONVERT(VARCHAR(8), [NgayNhanGiay], 8) as 'Ngay Nhan'\n      ,GhiChuDatGiay as 'Ghi Chu'\n      ,TrangThai as 'Trang Thai'\n  FROM [dbo].[DP_DatGiayTam]\n  WHERE [TrangThai] <> 255 AND DATEDIFF(DAY,@0,NgayDatGiay) >= 0 AND DATEDIFF(DAY,@1,NgayDatGiay) <=0\r\nparam: 2019/04/30,2019/05/30: System.Data.SqlClient.SqlException (0x80131904): Incorrect syntax near the keyword 'CONVERT'.\r\n   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()\r\n   at System.Data.SqlClient.SqlDataReader.get_MetaData()\r\n   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)\r\n   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)\r\n   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)\r\n   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)\r\n   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)\r\n   at System.Data.SqlClient.SqlCommand.ExecuteReader()\r\n   at CMS_Tools.Model.MenuModel.GetDataTable(String db, Int32 sqlType, String sql_query, List`1 param) in C:\\Users\\Dien Nguyen\\Dropbox\\Project\\DATPHU_PRINTING\\CMS_Tools\\CMS_Tools\\CMS_Tools\\Model\\MenuModel.cs:line 628\r\nClientConnectionId:f620c293-821d-4163-8693-671ec4b9ed67\r\nError Number:156,State:1,Class:15"}
ERROR2019-05-30 06:34:21 – {"DATE_LOGS":"30/05/2019 06:34:08","INFO_LOGS":"ERROR GET_DATA_BY_MENU: System.Exception: Incorrect syntax near the keyword 'CONVERT'.\r\n   at CMS_Tools.Model.MenuModel.GetDataTable(String db, Int32 sqlType, String sql_query, List`1 param) in C:\\Users\\Dien Nguyen\\Dropbox\\Project\\DATPHU_PRINTING\\CMS_Tools\\CMS_Tools\\CMS_Tools\\Model\\MenuModel.cs:line 643\r\n   at CMS_Tools.Apis.Menu.GET_DATA_BY_MENU(HttpContext context) in C:\\Users\\Dien Nguyen\\Dropbox\\Project\\DATPHU_PRINTING\\CMS_Tools\\CMS_Tools\\CMS_Tools\\Apis\\Menu.ashx.cs:line 902"}
ERROR2019-05-30 07:35:59 – {"DATE_LOGS":"30/05/2019 07:35:41","INFO_LOGS":"Error GetDataTable: sqlType 1\r\nsql_query: SELECT a.[Id]\n      ,a.[ChiTietDonHang_Status] as 'Trang Thai'\n      ,CONVERT(VARCHAR(10), a.NgayMoDon, 105) as 'Ngay Mo Don'\n      ,CONVERT(VARCHAR(10), a.NgayGiaoHang, 105) as 'Ngay Giao'\n      ,a.[MaDonHang] as 'Ma Don Hang'\n\t  ,ROW_NUMBER() over(partition by a.MaDonHang order by a.MaDonHang) AS 'STT'\n      ,a.[TenHang] as 'Ten San Pham'\n      ,a.[Ma_KH] as 'Ma KH'\n      ,a.[KhachHang] as 'Khach Hang'\n      --,[TaxCode] as 'MST'\n      --,[Email]\n      --,[Phone]\n      --,[LienHe] as 'Nguoi Lien He'\n      --,[UserID]\n      ,a.[NguoiMoDon] as 'Nguoi Mo Don'\n      ,a.[Ky_Hieu_Don] as 'Ky Hieu Don'\n      ,a.[TenLoaiDon] as 'Loai Don'\n      ,a.[TenLoaiHinhSX] as 'Loai Hinh SX'\n      --,[Gia_Ban_Bo] as 'Gia Ban Bo(vnd)'\n      ,a.[TinhThanh] as 'Tinh Thanh'\n      ,a.[Dai] as 'Dai(MM)'\n      ,a.[Rong] as 'Rong(MM)'\n      ,a.[Cao] as 'Cao(MM)'\n      ,a.[SoLuong] as 'So Luong(Cai)'\n      ,a.[SoLuongTang] as 'SL Tang(Cai)'\n\t  ,a.[TenLoaiSong] as 'Lop'\n      ,a.[MaLoaiSong] as 'Song Giay'\n      ,a.[KieuDang] as 'Kieu Dang'\n      ,a.[ChatLieu] as 'Chat Lieu'\n      ,a.[Cat_Rong] as 'Cat Rong(MM)'\n      ,a.[Cat_Dai] as 'Cat Dai(MM)'\n      ,a.[Thung/Tam]\n      ,a.[KhoGiay_Rong] as 'Kho Giay Rong(MM)'\n      ,a.[KhoGiay_Dai] as 'Kho Giay Dai(MM)'\n      --,[SoLuongSX] as 'SLSX'\n      ,a.[SoLuongBiLieu] as 'SL Bi Lieu'\n      ,a.[SoLuong_ToiThieu] as 'SL Toi Thieu'\n      ,a.[SoMetToi] as 'So Met Toi(MM)'\n      ,a.[DienTich_Cai] as 'Dien Tich Cai(MET)'\n      ,a.[DienTich_Don] as 'Dien Tich Don(MET)'\n      ,a.[Dong_Dan] as 'Dong Dan'\n      ,a.Ten_Dong_Goi as 'Dong Goi'\n      ,a.[So_Mau_In] as 'So Mau In'\n      ,a.[In_An] as 'In An'\n      ,a.[Can_bien] AS 'Can Bien'\n\t  ,a.[May_In] AS 'May In'\n\t  ,a.[Cat_Ranh] AS 'Cat Ranh'\n\t  ,a.[May_Be] AS 'May Be'\n\t  ,a.[Dong_Dinh] AS 'Dong Dinh'\n\t  ,a.[Dan_Keo] AS 'Dan Keo' \n      ,a.[Gia_Cong_DB] as 'Gia Cong DB'\n      ,Sl_NhapKho as 'Nhap Kho'\n      ,CASE WHEN a.[Loai_Ban_In] = 1 THEN 'Ban moi' WHEN a.Loai_Ban_In = 2 THEN 'Ban cu' ELSE 'Sua ban cu' END as 'Loai Ban In'\n      ,a.[Ma_So_Ban_In] as 'Ma Ban In'\n      ,a.[Ma_So_Khuon_Be] as 'Ma Khuon Be'\n      ,CASE WHEN a.[Dinh_Kem] = 1 THEN 'Theo Mau' ELSE 'Ban Ve' END as 'Dinh Kem'\n\t  ,b.TenNhaCungCap\n\t  ,CONVERT(VARCHAR(10), b.NgayNhanGiay, 105) + ' ' + CONVERT(VARCHAR(8), b.NgayNhanGiay, 8) as 'Ngay Nhan Giay'\n\t  FROM DP_View_DonHang a\n\t  LEFT JOIN DP_DatGiayTam b\n\t  ON a.Id = b.OrderDetail_ID AND b.TrangThai <> 255\n\t  WHERE ChiTietDonHang_Status <> 255 \n\t  AND DATEDIFF(DAY,@0,DateCreate) >= 0 AND DATEDIFF(DAY,@1,DateCreate) <=0\r\nparam: 2019/04/30,2019/05/30: System.Data.SqlClient.SqlException (0x80131904): Invalid column name 'Sl_NhapKho'.\r\n   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()\r\n   at System.Data.SqlClient.SqlDataReader.get_MetaData()\r\n   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)\r\n   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)\r\n   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)\r\n   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)\r\n   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)\r\n   at System.Data.SqlClient.SqlCommand.ExecuteReader()\r\n   at CMS_Tools.Model.MenuModel.GetDataTable(String db, Int32 sqlType, String sql_query, List`1 param) in C:\\Users\\Dien Nguyen\\Dropbox\\Project\\DATPHU_PRINTING\\CMS_Tools\\CMS_Tools\\CMS_Tools\\Model\\MenuModel.cs:line 628\r\nClientConnectionId:b980997b-63f5-404d-ad8c-13fb8feafe3b\r\nError Number:207,State:1,Class:16"}
ERROR2019-05-30 07:35:59 – {"DATE_LOGS":"30/05/2019 07:35:41","INFO_LOGS":"ERROR GET_DATA_BY_MENU: System.Exception: Invalid column name 'Sl_NhapKho'.\r\n   at CMS_Tools.Model.MenuModel.GetDataTable(String db, Int32 sqlType, String sql_query, List`1 param) in C:\\Users\\Dien Nguyen\\Dropbox\\Project\\DATPHU_PRINTING\\CMS_Tools\\CMS_Tools\\CMS_Tools\\Model\\MenuModel.cs:line 643\r\n   at CMS_Tools.Apis.Menu.GET_DATA_BY_MENU(HttpContext context) in C:\\Users\\Dien Nguyen\\Dropbox\\Project\\DATPHU_PRINTING\\CMS_Tools\\CMS_Tools\\CMS_Tools\\Apis\\Menu.ashx.cs:line 902"}
ERROR2019-05-30 07:44:59 – {"DATE_LOGS":"30/05/2019 07:44:40","INFO_LOGS":"SynPing: System.Net.WebException: Unable to connect to the remote server ---> System.Net.Sockets.SocketException: A connection attempt failed because the connected party did not properly respond after a period of time, or established connection failed because connected host has failed to respond 125.253.113.103:443\r\n   at System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)\r\n   at System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)\r\n   --- End of inner exception stack trace ---\r\n   at System.Net.WebClient.DownloadDataInternal(Uri address, WebRequest& request)\r\n   at System.Net.WebClient.DownloadString(Uri address)\r\n   at System.Net.WebClient.DownloadString(String address)\r\n   at CMS_Tools.SynPing.RequestUrl() in C:\\Users\\Dien Nguyen\\Dropbox\\Project\\DATPHU_PRINTING\\CMS_Tools\\CMS_Tools\\CMS_Tools\\Global.asax.cs:line 125"}
