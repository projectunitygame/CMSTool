ERROR2019-09-23 11:59:39 – {"DATE_LOGS":"23/09/2019 11:59:34","INFO_LOGS":"Error GetDataTable: sqlType 1\r\nsql_query: SELECT [MA_GIAO_DICH]\n      ,[TK_NGUOI_GUI]\n      ,[TEN_NGUOI_GUI]\n      ,[TK_NGUOI_NHAN]\n      ,[TEN_NGUOI_NHAN]\n      ,CASE WHEN Amount > 0 THEN ' + ' else ' - ' end as 'THAY_DOI'\n      ,FORMAT(ABS([Amount]), '#,#') as 'SO_TIEN'\n      ,[NOI_DUNG]\n      ,CONVERT(VARCHAR(19), [DateCreated], 120) as 'NGAY_GIAO_DICH'\n      ,CASE WHEN [Status] = 0 THEN 'processing' WHEN Status = 1 THEN 'success' else 'error' end as 'TRANG_THAI'\n      ,[IP]\n      ,[NGUOI_THUC_HIEN]\n\t  ,CASE WHEN Balance_Before = 0 THEN '0' else FORMAT(Balance_Before, '#,#') end as SO_DU_DAU_KY\n      ,CASE WHEN Balance_After = 0 THEN '0' else FORMAT(Balance_After, '#,#') end as SO_DU_CUOI_KY\n  FROM View_Agency_TransactionHistory\n  where DATEDIFF(DAY,@0,DateCreated) >= 0 AND DATEDIFF(DAY,@1,DateCreated) <=0 AND @@2 like '%' + @3 + '%' AND @3 <> ''\r\nparam: 2017/09/23,2019/09/23: System.Data.SqlClient.SqlException (0x80131904): Must declare the scalar variable \"@@2\".\r\n   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()\r\n   at System.Data.SqlClient.SqlDataReader.get_MetaData()\r\n   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)\r\n   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)\r\n   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry)\r\n   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)\r\n   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior, String method)\r\n   at System.Data.SqlClient.SqlCommand.ExecuteReader()\r\n   at CMS_Tools.Model.MenuModel.GetDataTable(String db, Int32 sqlType, String sql_query, List`1 param) in C:\\Users\\Seeker\\Documents\\GitHub\\CMSTool\\CMS_Tools\\Model\\MenuModel.cs:line 702\r\nClientConnectionId:3dce5f5a-d1fa-4d63-a98d-e5096307da08\r\nError Number:137,State:2,Class:15"}
ERROR2019-09-24 12:00:25 – {"DATE_LOGS":"23/09/2019 11:59:55","INFO_LOGS":"ERROR GET_DATA_BY_MENU: System.Exception: Must declare the scalar variable \"@@2\".\r\n   at CMS_Tools.Model.MenuModel.GetDataTable(String db, Int32 sqlType, String sql_query, List`1 param) in C:\\Users\\Seeker\\Documents\\GitHub\\CMSTool\\CMS_Tools\\Model\\MenuModel.cs:line 717\r\n   at CMS_Tools.Apis.Menu.GET_DATA_BY_MENU(HttpContext context) in C:\\Users\\Seeker\\Documents\\GitHub\\CMSTool\\CMS_Tools\\Apis\\Menu.ashx.cs:line 934"}
